# è™šæ‹Ÿæ‚£è€…è¿›è¯¾å ‚ - è™šæ‹Ÿå½¢è±¡é—®ç­”ç³»ç»Ÿ æŠ€æœ¯å‚æ•°è¯¦è¡¨

## ğŸ¯ é¡¹ç›®ä»‹ç» / Project Overview

**é¡¹ç›®åç§°ï¼š** è™šæ‹Ÿæ‚£è€…è¿›è¯¾å ‚ - è™šæ‹Ÿå½¢è±¡é—®ç­”ç³»ç»Ÿ  
**Project Name:** Virtual Patients in Classroom - Virtual Avatar Q&A System

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºReactçš„æ™ºèƒ½åŒ»å­¦æ•™è‚²å¹³å°ï¼Œé›†æˆMuseTalkå®æ—¶å”‡å½¢åŒæ­¥æŠ€æœ¯ï¼Œä¸ºå‘¼å¸ç§‘ä½åŸ¹ç”Ÿå’Œæ‚£è€…æä¾›äº¤äº’å¼é—®ç­”å­¦ä¹ ä½“éªŒã€‚ç³»ç»Ÿé€šè¿‡AIé©±åŠ¨çš„è™šæ‹Ÿå½¢è±¡ç”ŸæˆæŠ€æœ¯ï¼Œå®ç°ä»é™æ€å›¾åƒåˆ°åŠ¨æ€è§†é¢‘çš„æ™ºèƒ½è½¬æ¢ï¼Œæ”¯æŒå¤šæ¨¡æ€å†…å®¹ç”Ÿæˆå’Œå®æ—¶äº¤äº’ã€‚

This project is an intelligent medical education platform based on React, integrating MuseTalk real-time lip-sync technology to provide interactive Q&A learning experiences for respiratory medicine residents and patients. The system achieves intelligent conversion from static images to dynamic videos through AI-driven virtual avatar generation technology, supporting multimodal content generation and real-time interaction.

## ğŸ’» æŠ€æœ¯è¦æ±‚ / Technical Requirements

### ç¡¬ä»¶ç¯å¢ƒ / Hardware Environment
| ç»„ä»¶ / Component | æœ€ä½é…ç½® / Minimum | æ¨èé…ç½® / Recommended |
|---|---|---|
| **CPU** | Intel i5-8400 / AMD Ryzen 5 2600 | Intel i7-10700K / AMD Ryzen 7 3700X |
| **GPU** | NVIDIA GTX 1060 6GB (CUDA 11.7+) | NVIDIA RTX 3080 / RTX 4070 |
| **å†…å­˜ / RAM** | 16GB DDR4 | 32GB DDR4 |
| **å­˜å‚¨ / Storage** | 50GB å¯ç”¨ç©ºé—´ | 100GB SSD |
| **ç½‘ç»œ / Network** | å®½å¸¦è¿æ¥ | 100Mbps+ |

### è½¯ä»¶ç¯å¢ƒ / Software Environment
| æŠ€æœ¯æ ˆ / Technology Stack | ç‰ˆæœ¬è¦æ±‚ / Version Requirements |
|---|---|
| **å‰ç«¯æ¡†æ¶ / Frontend** | React 18+ with TypeScript 4.9+ |
| **UIæ¡†æ¶ / UI Library** | Material-UI (MUI) v5.15+ |
| **æ„å»ºå·¥å…· / Build Tool** | Create React App / Node.js 18+ |
| **AIå¼•æ“ / AI Engine** | Python 3.10+, CUDA 11.7 |
| **æ·±åº¦å­¦ä¹ æ¡†æ¶ / DL Framework** | PyTorch, OpenMIM, MMCV 2.0+ |
| **éŸ³é¢‘å¤„ç† / Audio Processing** | Whisper-tiny, FFmpeg |
| **è§†é¢‘å¤„ç† / Video Processing** | OpenCV, diffusers |

### ä¾èµ–åº“ / Dependencies
```
å‰ç«¯ä¾èµ– / Frontend Dependencies:
- @emotion/react ^11.11.3
- @mui/material ^5.15.6  
- react-scripts 5.0.1
- tailwindcss ^3.4.17

AIæ¨¡å‹ä¾èµ– / AI Model Dependencies:
- MuseTalk (Tencent Lyra Lab)
- sd-vae-ft-mse (Stability AI)
- DWPose, face-parsing-bisent
- mmengine, mmdet 3.1+, mmpose 1.1+
```

## ğŸ›  åŠŸèƒ½è¦æ±‚ / Functional Requirements

### 1. è™šæ‹Ÿå½¢è±¡è§†é¢‘åŒæ­¥åˆæˆ / Video Generation
| åŠŸèƒ½é¡¹ / Feature | æŠ€æœ¯æŒ‡æ ‡ / Technical Specifications |
|---|---|
| **è§†é¢‘ç”Ÿæˆ / Video Generation** | æ”¯æŒ256x256é¢éƒ¨åŒºåŸŸè§†é¢‘åˆæˆï¼Œ30fps+å®æ—¶ç”Ÿæˆ |
| **æ—¶é—´è½´å¯¹é½ / Timeline Alignment** | éŸ³é¢‘ä¸è§†é¢‘ç²¾ç¡®åŒæ­¥ï¼Œå»¶è¿Ÿ<100ms |
| **ç¥æ€åŒæ­¥ / Expression Sync** | åŸºäºVAEæ½œç©ºé—´ä¿®å¤çš„è¡¨æƒ…ç”Ÿæˆ |
| **å”‡å½¢åŒæ­¥ / Lip Synchronization** | å®æ—¶é«˜è´¨é‡å”‡å½¢åŒ¹é…ï¼Œæ”¯æŒä¸­è‹±æ—¥å¤šè¯­è¨€ |
| **è¾“å‡ºæ ¼å¼ / Output Format** | MP4æ ¼å¼ï¼ŒH.264ç¼–ç ï¼Œå¯é…ç½®åˆ†è¾¨ç‡ |

### 2. è™šæ‹Ÿå½¢è±¡æ¨¡å‹åŸºç¡€è®­ç»ƒåŠæ¨ç† / Image to Avatar BaseModels
| åŠŸèƒ½é¡¹ / Feature | æŠ€æœ¯æŒ‡æ ‡ / Technical Specifications |
|---|---|
| **é¢éƒ¨è¯†åˆ« / Face Recognition** | åŸºäºS3FDç®—æ³•ï¼Œå‡†ç¡®ç‡>95% |
| **äº”å®˜åˆ†åŒº / Facial Segmentation** | 79999_iteré¢„è®­ç»ƒæ¨¡å‹ï¼Œæ”¯æŒç²¾ç»†é¢éƒ¨è§£æ |
| **ç‰¹å¾ç‚¹æ£€æµ‹ / Landmark Detection** | DWPoseå…³é”®ç‚¹æ£€æµ‹ï¼Œ68ä¸ªé¢éƒ¨ç‰¹å¾ç‚¹ |
| **é¢éƒ¨ç»‘å®š / Face Rigging** | è‡ªåŠ¨é¢éƒ¨ç½‘æ ¼ç»‘å®šï¼Œæ”¯æŒè¡¨æƒ…å˜å½¢ |
| **åŠ¨ä½œè°ƒè¯• / Motion Tuning** | bbox_shiftå‚æ•°è°ƒèŠ‚ï¼Œ[-9,9]èŒƒå›´å˜´éƒ¨å¼€åˆæ§åˆ¶ |

### 3. æ–‡æœ¬è¯­éŸ³æ¨¡å‹åŸºç¡€è®­ç»ƒåŠæ¨ç† / Text to Voice BaseModels
| åŠŸèƒ½é¡¹ / Feature | æŠ€æœ¯æŒ‡æ ‡ / Technical Specifications |
|---|---|
| **æ–‡æœ¬åˆ†è¯ / Text Segmentation** | æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡åˆ†è¯å¤„ç† |
| **è‡ªç„¶è¯­è¨€åˆ†æ / NLP Analysis** | åŸºäºWhisper-tinyéŸ³é¢‘ç‰¹å¾æå– |
| **è¯­éŸ³åŒ¹é… / Voice Matching** | éŸ³é¢‘åµŒå…¥å‘é‡åŒ¹é…ï¼Œæ”¯æŒå¤šè¯´è¯äºº |
| **è¯­éŸ³ç”Ÿæˆ / Voice Synthesis** | å®æ—¶éŸ³é¢‘å¤„ç†ï¼Œé‡‡æ ·ç‡16kHz |
| **éŸ³é¢‘æ ¼å¼ / Audio Format** | WAV/MP3æ ¼å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰éŸ³è‰² |

## âš¡ æ€§èƒ½è¦æ±‚ / Performance Requirements

### ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ / System Performance Metrics
| æ€§èƒ½é¡¹ / Performance Item | ç›®æ ‡æŒ‡æ ‡ / Target Metrics |
|---|---|
| **è§†é¢‘ç”Ÿæˆé€Ÿåº¦ / Video Generation Speed** | 30fps+ (NVIDIA Tesla V100) |
| **å®æ—¶æ¨ç†å»¶è¿Ÿ / Real-time Inference Latency** | <200msç«¯åˆ°ç«¯å»¶è¿Ÿ |
| **æ¨¡å‹åŠ è½½æ—¶é—´ / Model Loading Time** | <10ç§’åˆå§‹åŒ–å®Œæˆ |
| **å†…å­˜å ç”¨ / Memory Usage** | <8GB GPUæ˜¾å­˜ï¼Œ<16GBç³»ç»Ÿå†…å­˜ |
| **å¹¶å‘å¤„ç†èƒ½åŠ› / Concurrent Processing** | æ”¯æŒ4ä¸ªæ‰¹æ¬¡å¹¶è¡Œå¤„ç† |

### è´¨é‡æŒ‡æ ‡ / Quality Metrics
| è´¨é‡é¡¹ / Quality Item | æ ‡å‡† / Standards |
|---|---|
| **å”‡å½¢åŒæ­¥å‡†ç¡®åº¦ / Lip-sync Accuracy** | >90%åŒæ­¥å‡†ç¡®ç‡ |
| **é¢éƒ¨è¡¨æƒ…è‡ªç„¶åº¦ / Facial Expression Naturalness** | ä¸»è§‚è¯„åˆ†>4.0/5.0 |
| **è§†é¢‘æ¸…æ™°åº¦ / Video Clarity** | 256x256æœ€å°åˆ†è¾¨ç‡ï¼Œå¯æ‰©å±•è‡³1024x1024 |
| **éŸ³é¢‘è´¨é‡ / Audio Quality** | 16kHzé‡‡æ ·ç‡ï¼Œæ— æ˜æ˜¾å™ªéŸ³ |
| **ç³»ç»Ÿç¨³å®šæ€§ / System Stability** | 7x24å°æ—¶è¿ç»­è¿è¡Œï¼Œæ•…éšœç‡<1% |

### æ‰©å±•æ€§è¦æ±‚ / Scalability Requirements
| æ‰©å±•é¡¹ / Scalability Item | è¦æ±‚ / Requirements |
|---|---|
| **ç”¨æˆ·å¹¶å‘ / Concurrent Users** | æ”¯æŒ100+å¹¶å‘ç”¨æˆ·è®¿é—® |
| **æ•°æ®å­˜å‚¨ / Data Storage** | æ”¯æŒTBçº§è§†é¢‘æ•°æ®å­˜å‚¨ |
| **æ¨¡å‹æ›´æ–° / Model Updates** | æ”¯æŒçƒ­æ›´æ–°ï¼Œæ— éœ€åœæœº |
| **å¤šè¯­è¨€æ”¯æŒ / Multi-language** | ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ï¼Œå¯æ‰©å±•å…¶ä»–è¯­è¨€ |
| **éƒ¨ç½²æ–¹å¼ / Deployment** | æ”¯æŒDockerå®¹å™¨åŒ–éƒ¨ç½²ï¼Œäº‘ç«¯/æœ¬åœ°æ··åˆ |

### å…¼å®¹æ€§è¦æ±‚ / Compatibility Requirements
| å…¼å®¹é¡¹ / Compatibility Item | æ”¯æŒèŒƒå›´ / Support Range |
|---|---|
| **æµè§ˆå™¨æ”¯æŒ / Browser Support** | Chrome 90+, Firefox 88+, Safari 14+ |
| **æ“ä½œç³»ç»Ÿ / Operating System** | Windows 10+, Ubuntu 20.04+, CentOS 8+ |
| **ç§»åŠ¨è®¾å¤‡ / Mobile Devices** | iOS 14+, Android 10+ (å“åº”å¼è®¾è®¡) |
| **ç½‘ç»œç¯å¢ƒ / Network Environment** | æ”¯æŒå±€åŸŸç½‘å’Œäº’è”ç½‘éƒ¨ç½² |

---

**æŠ€æœ¯å‚æ•°è¡¨ç‰ˆæœ¬ï¼š** v1.0  
**æ›´æ–°æ—¶é—´ï¼š** 2025å¹´1æœˆ  
**æ–‡æ¡£è·¯å¾„ï¼š** `/docs/æŠ€æœ¯å‚æ•°è¡¨.md`

*Generated with [Claude Code](https://claude.ai/code)*